# Шахматный симулятор: объектно-ориентированная версия

Этот репозиторий содержит реализацию шахматного симулятора на Python в объектно-ориентированном стиле, выполненную в рамках задания "Шахматный симулятор: объектно-ориентированная версия" для Практикума по программированию. Проект поддерживает игру в шахматы и шашки, а также включает дополнительные функции, такие как откат ходов, подсказки и анализ угроз.

## Содержание репозитория
- README.md — описание проекта
- requirements.txt — список зависимостей (в данном случае пустой, так как используются только стандартные библиотеки Python)
- chess.py — основной код проекта

## Описание проекта

### Базовая часть
Проект реализует консольную игру в шахматы, где два игрока поочерёдно вводят ходы за белых и чёрных. Программа:
- Отображает игровое поле в текстовом виде (8x8 с буквенной и цифровой нумерацией).
- Поддерживает ввод ходов в шахматной нотации (например, e2 e4).
- Проверяет корректность ходов согласно правилам шахмат.
- Подсчитывает количество сделанных ходов (атрибут move_count в классе Game).
- Не выполняет ходы за игроков, предоставляя только интерфейс для игры.

Основные сущности реализованы в виде объектов:
- Доска (Board) — объект, хранящий состояние игрового поля и историю ходов.
- Фигуры (Piece и наследуемые классы) — иерархия классов для шахматных фигур (пешка, конь, слон, ладья, ферзь, король) и дополнительных фигур.
- Игра (Game) — объект, управляющий игровым процессом.

Все данные (положение фигур, цвет, символы) хранятся в атрибутах объектов, а функциональность (проверка ходов, отрисовка доски) реализована через методы классов. Архитектура позволяет легко расширять функционал.

### Дополнительные задания
Выполнены следующие дополнительные задачи (суммарная сложность 5):

1. Придумать 3 новых вида фигур (Сложность 1)  
   Добавлены новые фигуры с оригинальными правилами:
   - Волшебник (Wizard) (w/W) — сочетает ходы коня и короля.
   - Дракон (Dragon) (d/D) — сочетает ходы ладьи и коня.
   - Стрелок (Archer) (a/A) — ходит как слон или "стреляет" на две клетки по диагонали, атакуя только фигуры противника.

2. Реализация игры в шашки на базе шахмат (Сложность 2)  
   Добавлен класс CheckersGame, наследующийся от Game, и поддержка шашек через классы:
   - Обычная шашка (Checker) (b/W) — ходит по диагонали вперёд, берёт через прыжок.
   - Дамка (KingChecker) (k/K) — ходит по диагонали в любом направлении, берёт через прыжок.

   Игра в шашки реализована с минимальным вмешательством: используется та же доска (Board), добавлен параметр game_type, а правила шашек реализованы в отдельных классах.

3. Возможность отката ходов (Сложность 1)  
   Реализованы команды:
   - back — отменяет последний ход.
   - next — повторяет отменённый ход.
   История ходов хранится в атрибутах move_history и redo_history класса Board в виде кортежей (начальная позиция, конечная позиция, фигура, захваченная фигура).

4. Функция подсказки выбора новой позиции (Сложность 1)  
   Команда hint <позиция> (например, hint e2) показывает возможные ходы для фигуры на указанной клетке с визуальным выделением на доске. Работает для всех фигур, включая новые, благодаря полиморфизму метода get_possible_moves.

5. Функция подсказки выбора новой позиции (Сложность 1)  
   Команда threats <позиция> (например, threats e2) показывает возможные угрозы для фигуры на указанной клетке с визуальным выделением на доске. Работает для всех фигур, включая новые, благодаря полиморфизму метода get_possible_moves.

### Структура кода
- Класс `Board` — управляет доской, её отображением, ходами и историей.
- Класс `Piece` — абстрактный базовый класс для всех фигур с методами is_valid_move и get_possible_moves.
- Классы фигур — наследуются от Piece, реализуют правила ходов:
  - Шахматные: Pawn, Knight, Bishop, Rook, Queen, King.
  - Новые: Wizard, Dragon, Archer.
  - Шашки: Checker, KingChecker.
- Класс `Game` — управляет шахматной игрой.
- Класс `CheckersGame` — управляет игрой в шашки, наследуется от Game.
